<! DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    </head>
    <style>
        body {
            background: #28a745 !important;
            font-family: 'Muli', sans-serif;
        }

        h1 {
            color: #fff;
            padding-bottom: 2rem;
            font-weight: bold;
        }

        a {
            color: #333;
        }

        a:hover {
            color: #Eeeee;
            text-decoration: none;
        }

        .form-control:focus {
            color: #000;
            background-color: #fff;
            border: 2px solid #E8D426;
            outline: 0;
            box-shadow: none;
        }

        .btn {
            background: #28a745;
            border: #E8D426;
        }

        .btn:hover {
            background: #28a745;
            border: #E8D426;
        }
		.signUpForm{
		display: none
		}
		#signUpForm {
			margin-top:50px
		}
		#MainLoginForm{
			margin-top:50px
		}
    </style>

    <body>
        <div class="MainLoginForm" id="MainLoginForm">
            <div class="container">
                <div class="row">
                    <div class="col-md-5 mx-auto">
                        <div class="card card-body">
                            <form id="loginForm" name="loginForm" action="#" method="post" >
                                <input type="hidden" name="_csrf" value="7635eb83-1f95-4b32-8788-abec2724a9a4">
                                <div class="form-group">
                                    <input type="text" class="form-control text-lowercase" id="username" 
                                        name="username" value="" placeholder="Enter Email">
                                </div>
                                <div class="form-group">
                                    <input type="password" class="form-control text-lowercase" id="password"
                                        name="password" value="" placeholder="Enter Password">
                                </div>
                                
                                <div class="form-group pt-1">
                                    
									<button type="button" class="btn btn-primary btn-block" onclick="pageRedirect()" > Sign In </button>
                                </div>
                            </form>
                            <p class="small-xl pt-3 text-center">
                                <span class="text-muted"> Not a member? </span>
                                <a onclick="signUp()"> Sign up </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
		<div class="signUpForm" id="signUpForm">
		<h1>
		<div class="container">
                <div class="row">
                    <div class="col-md-5 mx-auto">
                        <div class="card card-body">
                            <form id="signUpForm" name="signupform" action="#" method="post" >
                                <div class="form-group">
                                    <input type="text" class="form-control text-lowercase" id="signupusername" 
                                        name="signupusername" value="" placeholder="Enter Email">
                                </div>
                                <div class="form-group">
                                    <input type="password" class="form-control text-lowercase" id="signuppassword"
                                        name="signuppassword" value="" placeholder="Enter Password">
                                </div>
                                
                                <div class="form-group pt-1">                                    
									<button type="button" class="btn btn-primary btn-block" onclick="createAccount()" > Submit </button>
                                </div>
                            </form>
							<p class="small-xl pt-3 text-center">
                                <span class="text-muted" style="font-size:15px"> Already a member? </span>
                                <a style="color:#000;font-size:15px"  onclick="showloginPage()"> login</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
		<h1>
		</div>
    </body>
    <script>

        let usersData = {
            admin:{
                userName : "admin",
                password : "admin"
            }
        }

        function pageRedirect() {
           const name = document.getElementById('username').value;
           const password = document.getElementById('password').value;
           if(usersData.hasOwnProperty(name) && usersData[name].userName == name && usersData[name].password == password){
            window.location.href = "bargraph.html";
           }else{
            alert("userName or password is incorrect")
           }

          console.log("userName ::: ",usersData.hasOwnProperty(name) , usersData[name].userName == name);
        }    
		
		function signUp(){
			document.getElementById("MainLoginForm").style.display = "none";
			document.getElementById("signUpForm").style.display = "block";
		}
		function showloginPage(){
			document.getElementById("MainLoginForm").style.display = "block";
			document.getElementById("signUpForm").style.display = "none";
		}
		function createAccount(){
		
		
		   const name = document.getElementById('signupusername').value;
           const password = document.getElementById('signuppassword').value;
		   
		   if(usersData.hasOwnProperty(name)){
				alert("User name already exists,Please try with another name");
				return;
		   }
		   
		   usersData[name] =
		   {
                userName : name,
                password : password
            }
			console.log(usersData);
			alert("user created successfully")
			document.getElementById("MainLoginForm").style.display = "block";
			document.getElementById("signUpForm").style.display = "none";
		}
		
    </script> 

    </html>